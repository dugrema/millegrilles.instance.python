{
  "name": "certissuer",
  "image": "docker.maceroc.com/millegrilles_midcompte_python:2022.3.0",
  "args": ["-m", "millegrilles_certissuer", "--verbose"],
  "constraints": [
    "node.labels.millegrilles.certissuer == true"
  ],
  "mounts": [{"source": "/var/opt/millegrilles/certissuer", "target":  "/var/opt/millegrilles/certissuer", "type": "bind"}],
  "networks": [{
    "target": "millegrille_net"
  }],
  "labels": {
    "millegrille": "${IDMG}"
  },
  "endpoint_spec": {
    "mode": "vip",
    "ports": [
      {
        "published_port": 2080,
        "target_port": 2080,
        "protocol": "tcp"
      }
    ]
  },
  "resources": {
    "cpu_limit": 500000000,
    "mem_limit": 50000000
  },
  "restart_policy": {
    "condition": "on-failure",
    "delay": 5000000000,
    "max_attempts": 1
  },
  "mode": {
    "mode": "replicated",
    "replicas": 1
  }
}